---
permalink: "/development/test.html"
layout: base-layout
---

<!-- replace with Jest one day -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/mocha/8.3.2/mocha.css"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/8.3.2/mocha.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chai/4.3.4/chai.min.js"></script>
<script src="https://jsdom.github.io/whatwg-url/whatwg-url.js"></script>

<script>
  mocha.setup("bdd");
</script>
<script src="../js/test-bundle.min.js"></script>
<style>
  .hidden {
    display: none;
  }
</style>

<div id="results" class="hidden"></div>
<div id="mocha"></div>

<script class="mocha-exec">
  mocha.run((failures) => {
    const result = failures === 0 ? "PASS" : "FAIL";
    const status =
      result +
      ": " +
      failures +
      " failures.  Peggy Version: " +
      browser.peggyVersion();
    console.log(status);
    const div = document.getElementById("results");
    div.innerHTML = status;
    div.classList.remove("hidden");
  });
</script>
